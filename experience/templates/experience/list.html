{% extends 'base.html' %}
{% load static %}

{% block title %}Experience | MyApply{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">My Experience</h1>
    <a href="{% url 'experience:add' %}" class="btn btn-primary">+ Add Experience</a>
</div>

{% if experiences %}
    <div class="experience-list">
        {% for exp in experiences %}
        <div class="experience-card type-{{ exp.type }}">
            <div class="experience-header">
                <div class="experience-main">
                    <span class="experience-type type-{{ exp.type }}">{{ exp.type }}</span>
                    <h2 class="experience-title">{{ exp.title }}</h2>
                    <div class="experience-organization">{{ exp.organization }}</div>
                    <div class="experience-meta">
                        <span class="experience-date {% if exp.current %}current{% endif %}">
                            {% if exp.start_date %}
                                {{ exp.start_date }}
                            {% endif %}
                            {% if exp.current %}
                                - Present
                            {% elif exp.end_date %}
                                - {{ exp.end_date }}
                            {% endif %}
                        </span>
                        {% if exp.location %}
                        <span class="experience-location">üìç {{ exp.location }}</span>
                        {% endif %}
                    </div>
                </div>
            </div>

            {% if exp.description %}
            <div class="experience-description">
                {{ exp.description }}
            </div>
            {% endif %}

            {% if exp.achievements %}
            <div class="experience-achievements">
                <div class="experience-achievements-title">Key Achievements</div>
                <ul>
                    {% for achievement in exp.achievements %}
                    <li>{{ achievement }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            {% if exp.skills %}
            <div class="experience-skills">
                {% for skill in exp.skills %}
                <span class="skill-tag">{{ skill }}</span>
                {% endfor %}
            </div>
            {% endif %}

            <div class="experience-actions">
                <a href="{% url 'experience:edit' exp.id %}" class="btn-edit">‚úèÔ∏è Edit</a>
                <form method="post" action="{% url 'experience:delete' exp.id %}" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this experience?');">
                    {% csrf_token %}
                    <button type="submit" class="btn-delete">üóëÔ∏è Delete</button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
{% else %}
    <div class="empty-state">
        <div class="empty-state-icon">üìã</div>
        <div class="empty-state-text">No experiences added yet</div>
        <a href="{% url 'experience:add' %}" class="btn btn-primary">Add Your First Experience</a>
    </div>
{% endif %}
{% endblock %}
